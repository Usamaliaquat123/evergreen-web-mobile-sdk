{"ast":null,"code":"var _jsxFileName = \"/home/asd/Desktop/development/evergReen/client/src/context/appContext.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useState, useEffect } from \"react\";\nimport { BoxLoading } from \"react-loadingg\";\nimport { useMethods } from \"react-use\";\nimport categoryService from '../services/CategoryService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  allUsers: [],\n  allQuestions: [],\n  allCategories: [],\n  allTopics: []\n};\n\nfunction createMethods(state) {\n  return {\n    reset() {\n      return initialState;\n    },\n\n    initUsers(allUsers) {\n      return { ...state,\n        allUsers\n      };\n    },\n\n    initCategories(allCategories) {\n      return { ...state,\n        allCategories\n      };\n    },\n\n    /**\n     * ! USERS/ADMIN -- REDUCERS \n     */\n    addNewUser(user) {\n      return { ...state,\n        allUsers: state.allUsers.concat(user)\n      };\n    },\n\n    deleteUser(id) {\n      return { ...state,\n        allUsers: state.allUsers.filter(u => id !== u.id)\n      };\n    },\n\n    editUser(user) {\n      const updatedUsers = []; // eslint-disable-next-line array-callback-return\n\n      state.allUsers.map(item => {\n        if (user.id === item.id) updatedUsers.push(user);else updatedUsers.push(item);\n      });\n      return { ...state,\n        allUsers: updatedUsers\n      };\n    }\n\n  };\n}\n\nexport const AppContext = /*#__PURE__*/createContext();\nexport default _s(({\n  children\n}) => {\n  _s();\n\n  const [loaded, setLoaded] = useState(false);\n  const [store, methods] = useMethods(createMethods, initialState);\n  useEffect(async () => {\n    try {\n      const allCategories = await categoryService.allCatgories();\n      await methods.initCategories(allCategories.data);\n      setLoaded(true);\n    } catch (err) {\n      console.log(err);\n      setLoaded(true);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !loaded ? /*#__PURE__*/_jsxDEV(BoxLoading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n      value: {\n        store,\n        methods\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 3\n  }, this);\n}, \"8frDIDE4Dz5U8g5qx7X5Xj0kxI4=\", false, function () {\n  return [useMethods];\n});","map":{"version":3,"sources":["/home/asd/Desktop/development/evergReen/client/src/context/appContext.jsx"],"names":["React","createContext","useState","useEffect","BoxLoading","useMethods","categoryService","initialState","allUsers","allQuestions","allCategories","allTopics","createMethods","state","reset","initUsers","initCategories","addNewUser","user","concat","deleteUser","id","filter","u","editUser","updatedUsers","map","item","push","AppContext","children","loaded","setLoaded","store","methods","allCatgories","data","err","console","log"],"mappings":"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","sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\n\nimport { BoxLoading } from \"react-loadingg\";\n\nimport { useMethods } from \"react-use\";\n\nimport categoryService from '../services/CategoryService';\n\n\n\n\nconst initialState = {\n  allUsers: [],\n  allQuestions: [],\n  allCategories: [],\n  allTopics: [],\n};\n\n\n  function createMethods(state) {\n    return {\n      reset() {\n        return initialState;\n      },\n      initUsers(allUsers) {\n        return { ...state, allUsers };\n      },\n      initCategories(allCategories) {\n        return { ...state, allCategories };\n      },\n     \n      /**\n       * ! USERS/ADMIN -- REDUCERS \n       */\n      addNewUser(user){\n        return {...state, allUsers:state.allUsers.concat(user)}\n      },\n      deleteUser(id){\n        return {...state, allUsers:state.allUsers.filter((u=>id!==u.id))}\n      },\n      editUser(user){\n        const updatedUsers =[]\n        // eslint-disable-next-line array-callback-return\n        state.allUsers.map((item)=>{\n          if(user.id === item.id)updatedUsers.push(user);\n          else updatedUsers.push(item)\n        })\n        return {...state,allUsers:updatedUsers}\n        },\n     \n    };\n  }\n\nexport const AppContext = createContext();\n\nexport default ({ children }) => {\n  const [loaded, setLoaded] = useState(false);\n  const [store, methods] = useMethods(createMethods, initialState);\n\n\n\n\n\tuseEffect(async() => {\n        try{\n         \n            const  allCategories=await categoryService.allCatgories()\n                            await methods.initCategories(allCategories.data)\n\n            setLoaded(true)\n        }\n        catch(err){\n            console.log(err)\n            setLoaded(true)\n        }\n      \n        \n\t}, []);\n\treturn (\n\t\t<div>\n\t\t\t{!loaded ? (\n\t\t\t\t<BoxLoading />\n\t\t\t) : (\n\t\t\t\t<AppContext.Provider\n\t\t\t\t\tvalue={{\n\t\t\t\t\t\tstore,methods\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</AppContext.Provider>\n\t\t\t)}\n\t\t</div>\n\t);\n};"]},"metadata":{},"sourceType":"module"}