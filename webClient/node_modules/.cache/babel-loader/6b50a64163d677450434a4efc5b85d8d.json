{"ast":null,"code":"var _jsxFileName = \"/home/asd/Desktop/DART/nativeTarget/webClient/src/context/appContext.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-console */\nimport React, { createContext, useState, useEffect } from 'react';\nimport { BoxLoading } from 'react-loadingg';\nimport { useMethods } from 'react-use';\nimport categoryService from '../services/CategoryService';\nimport productService from '../services/productService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  allCategories: []\n};\n\nfunction createMethods(state) {\n  return {\n    reset() {\n      return initialState;\n    },\n\n    initCategories(allCategories) {\n      return { ...state,\n        allCategories\n      };\n    },\n\n    /**\n     * ! USERS/ADMIN -- REDUCERS\n     */\n    addNewCategory(category) {\n      return { ...state,\n        allCategories: state.allCategories.concat(category)\n      };\n    },\n\n    deleteCategory(catName) {\n      return { ...state,\n        allCategories: state.allCategories.filter(u => catName !== u.catName)\n      };\n    },\n\n    editCategory(user) {\n      const updatedUsers = []; // eslint-disable-next-line array-callback-return\n\n      state.allCategories.map(item => {\n        if (user.id === item.id) updatedUsers.push(user);else updatedUsers.push(item);\n      });\n      return { ...state,\n        allCategories: updatedUsers\n      };\n    }\n\n  };\n}\n\nexport const AppContext = /*#__PURE__*/createContext();\nexport default _s(({\n  children\n}) => {\n  _s();\n\n  const [loaded, setLoaded] = useState(false);\n  const [store, methods] = useMethods(createMethods, initialState);\n  useEffect(async () => {\n    try {\n      /**\n       * ALL CATEGORIES \n       */\n      const allCategories = await categoryService.allCatgories();\n      await methods.initCategories(allCategories);\n      /**\n       * ALL PRODUCTS \n       */\n\n      const allProducts = await productService.allProducts();\n      await methods.initCategories(allCategories);\n      setLoaded(true);\n    } catch (err) {\n      console.log(err);\n      setLoaded(true);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !loaded ? /*#__PURE__*/_jsxDEV(BoxLoading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n      value: {\n        store,\n        methods\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 3\n  }, this);\n}, \"8frDIDE4Dz5U8g5qx7X5Xj0kxI4=\", false, function () {\n  return [useMethods];\n});","map":{"version":3,"sources":["/home/asd/Desktop/DART/nativeTarget/webClient/src/context/appContext.jsx"],"names":["React","createContext","useState","useEffect","BoxLoading","useMethods","categoryService","productService","initialState","allCategories","createMethods","state","reset","initCategories","addNewCategory","category","concat","deleteCategory","catName","filter","u","editCategory","user","updatedUsers","map","item","id","push","AppContext","children","loaded","setLoaded","store","methods","allCatgories","allProducts","err","console","log"],"mappings":"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","sourcesContent":["/* eslint-disable no-console */\nimport React, { createContext, useState, useEffect } from 'react';\n\nimport { BoxLoading } from 'react-loadingg';\n\nimport { useMethods } from 'react-use';\n\nimport categoryService from '../services/CategoryService';\n\nimport productService from '../services/productService';\n\nconst initialState = {\n\tallCategories: [],\n};\n\nfunction createMethods(state) {\n\treturn {\n\t\treset() {\n\t\t\treturn initialState;\n\t\t},\n\n\t\tinitCategories(allCategories) {\n\t\t\treturn { ...state, allCategories };\n\t\t},\n\n\t\t/**\n\t\t * ! USERS/ADMIN -- REDUCERS\n\t\t */\n\t\taddNewCategory(category) {\n\t\t\treturn { ...state, allCategories: state.allCategories.concat(category) };\n\t\t},\n\t\tdeleteCategory(catName) {\n\t\t\treturn { ...state, allCategories: state.allCategories.filter((u) => catName !== u.catName) };\n\t\t},\n\t\teditCategory(user) {\n\t\t\tconst updatedUsers = [];\n\t\t\t// eslint-disable-next-line array-callback-return\n\t\t\tstate.allCategories.map((item) => {\n\t\t\t\tif (user.id === item.id) updatedUsers.push(user);\n\t\t\t\telse updatedUsers.push(item);\n\t\t\t});\n\t\t\treturn { ...state, allCategories: updatedUsers };\n\t\t},\n\t};\n}\n\nexport const AppContext = createContext();\n\nexport default ({ children }) => {\n\tconst [loaded, setLoaded] = useState(false);\n\tconst [store, methods] = useMethods(createMethods, initialState);\n\n\tuseEffect(async () => {\n\t\ttry {\n\t\t\t/**\n\t\t\t * ALL CATEGORIES \n\t\t\t */\n\t\t\tconst allCategories = await categoryService.allCatgories();\n\t\t\tawait methods.initCategories(allCategories);\n\t\t\t/**\n\t\t\t * ALL PRODUCTS \n\t\t\t */\n\t\t\t const allProducts = await productService.allProducts();\n\t\t\t await methods.initCategories(allCategories);\n\n\t\t\tsetLoaded(true);\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\tsetLoaded(true);\n\t\t}\n\t}, []);\n\treturn (\n\t\t<div>\n\t\t\t{!loaded ? (\n\t\t\t\t<BoxLoading />\n\t\t\t) : (\n\t\t\t\t<AppContext.Provider\n\t\t\t\t\tvalue={{\n\t\t\t\t\t\tstore,\n\t\t\t\t\t\tmethods,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</AppContext.Provider>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}